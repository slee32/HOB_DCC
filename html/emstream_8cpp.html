<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HOB_DCC: lib/serial/emstream.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="HOBPoster.2018.12.07.2.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HOB_DCC
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_2e1c68a09e20a71264e55dd48c888547.html">serial</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">emstream.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Source code for a base class that imitates C++ I/O streams on serial devices.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="emstream_8h_source.html">emstream.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3c2c3d8ffc38044a12bdb9773cf9b7fa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="emstream_8h.html#a5582483c459c0f48e51d96478d5b3407">ser_manipulator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="emstream_8cpp.html#a3c2c3d8ffc38044a12bdb9773cf9b7fa">setprecision</a> (uint8_t digits)</td></tr>
<tr class="memdesc:a3c2c3d8ffc38044a12bdb9773cf9b7fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the number of digits shown after a decimal point.  <a href="#a3c2c3d8ffc38044a12bdb9773cf9b7fa">More...</a><br /></td></tr>
<tr class="separator:a3c2c3d8ffc38044a12bdb9773cf9b7fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1289b0bc61ac6556b4a891adbfa68bfe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="emstream_8h.html#a5582483c459c0f48e51d96478d5b3407">ser_manipulator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="emstream_8cpp.html#a1289b0bc61ac6556b4a891adbfa68bfe">setbase</a> (uint8_t new_base)</td></tr>
<tr class="memdesc:a1289b0bc61ac6556b4a891adbfa68bfe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the base for subsequent numeric conversions.  <a href="#a1289b0bc61ac6556b4a891adbfa68bfe">More...</a><br /></td></tr>
<tr class="separator:a1289b0bc61ac6556b4a891adbfa68bfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af2db72bc7e1c0c5ab90a66810114a029"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="emstream_8cpp.html#af2db72bc7e1c0c5ab90a66810114a029">bts_new_prec</a> = 3</td></tr>
<tr class="memdesc:af2db72bc7e1c0c5ab90a66810114a029"><td class="mdescLeft">&#160;</td><td class="mdescRight">Temporary holder for <code><a class="el" href="emstream_8cpp.html#a3c2c3d8ffc38044a12bdb9773cf9b7fa" title="Set the number of digits shown after a decimal point. ">setprecision()</a></code> format function.  <a href="#af2db72bc7e1c0c5ab90a66810114a029">More...</a><br /></td></tr>
<tr class="separator:af2db72bc7e1c0c5ab90a66810114a029"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea069c7881b86d9c2639c9ff51f3f5a7"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="emstream_8cpp.html#aea069c7881b86d9c2639c9ff51f3f5a7">bts_new_base</a> = 10</td></tr>
<tr class="memdesc:aea069c7881b86d9c2639c9ff51f3f5a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Temporary holder for the <code><a class="el" href="emstream_8cpp.html#a1289b0bc61ac6556b4a891adbfa68bfe" title="Set the base for subsequent numeric conversions. ">setbase()</a></code> format function.  <a href="#aea069c7881b86d9c2639c9ff51f3f5a7">More...</a><br /></td></tr>
<tr class="separator:aea069c7881b86d9c2639c9ff51f3f5a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Source code for a base class that imitates C++ I/O streams on serial devices. </p>
<p>This file contains a base class for devices which send information in text form over serial devices. Example devices are serial ports (both traditional RS-232 ports and USB-serial adapters) and wireless modems.</p>
<p>Revised: </p><ul>
<li>04-03-2006 JRR For updated version of compiler </li>
<li>06-10-2006 JRR Ported from C++ to C for use with some C-only projects </li>
<li>08-11-2006 JRR Some bug fixes </li>
<li>03-02-2007 JRR Ported back to C++. I've had it with the limitations of C. </li>
<li>04-16-2007 JO Added write (unsigned long) </li>
<li>07-19-2007 JRR Changed some character return values to bool, added m324p </li>
<li>01-12-2008 JRR Added code for the ATmega128 using USART number 1 only </li>
<li>02-13-2008 JRR Split into base class and device specific classes; changed from write() to overloaded &lt;&lt; operator in the "cout" style </li>
<li>05-12-2008 ALS Fixed bug in which signed numbers came out unsigned </li>
<li>07-05-2008 JRR Added configuration macro by which to change what "endl" is </li>
<li>07-05-2008 JRR Added 'ascii' and 'numeric' format codes </li>
<li>11-24-2009 JRR Changed operation of 'clrscr' to a function to work with LCD </li>
<li>11-26-2009 JRR Integrated floating point support into this file </li>
<li>12-16-2009 JRR Improved support for constant strings in program memory </li>
<li>10-22-2012 JRR Fixed (OK, hacked around) bug which caused spurious warning for all Program Memory Strings </li>
<li>11-12-2012 JRR Made puts() non-virtual; made <a class="el" href="emstream_8h.html#ae9ed5f0c8d6cc2b224363baf5157750d" title="This define selects what will be sent when a program sends out &quot;endl&quot;. ">ENDL_STYLE()</a> a function macro </li>
<li>12-21-2013 JRR Ported to ChibiOS </li>
<li>10-17-2014 JRR Made compatible with FreeRTOS for Cal Poly class use</li>
</ul>
<p>License: This file released under the Lesser GNU Public License, version 2. This program is intended for educational use only, but it is not limited thereto. This code incorporates elements from Xmelkov's ftoa_engine.h, part of the avr-libc source, and users must accept and comply with the license of ftoa_engine.h as well. See <a class="el" href="emstream_8h.html" title="Headers for a base class that imitates C++ I/O streams on serial devices. ">emstream.h</a> for a copy of the relevant license terms. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a1289b0bc61ac6556b4a891adbfa68bfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1289b0bc61ac6556b4a891adbfa68bfe">&#9670;&nbsp;</a></span>setbase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="emstream_8h.html#a5582483c459c0f48e51d96478d5b3407">ser_manipulator</a> setbase </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>new_base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the base for subsequent numeric conversions. </p>
<p>This function, not a member of class emstream, sets the global numeric base and then returns a manipulator which causes a serial object to change to that base. The new base is "sticky" in that its value persists until this function is called (or the manipulators <code>bin</code>, <code>oct</code>, <code>dec</code> or <code>hex</code> are used) to change it again. Setting the base automatically turns off raw binary printing mode. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_base</td><td>A new value for the numeric base, as long as it's from 2 to 16 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The serial manipulator called <code>manip_set_base</code> </dd></dl>

</div>
</div>
<a id="a3c2c3d8ffc38044a12bdb9773cf9b7fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c2c3d8ffc38044a12bdb9773cf9b7fa">&#9670;&nbsp;</a></span>setprecision()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="emstream_8h.html#a5582483c459c0f48e51d96478d5b3407">ser_manipulator</a> setprecision </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>digits</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the number of digits shown after a decimal point. </p>
<p>This function sets the global precision value, then returns a manipulator which causes a serial object to change its floating point precision (the number of digits after the decimal point which will be printed). The new precision is "sticky" in that its value persists until this function is called again to change it again. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">digits</td><td>A new value for the number of digits after the decimal point; a maximum of 7 digits are allowed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The serial manipulator called "manip_set_precision" </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aea069c7881b86d9c2639c9ff51f3f5a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea069c7881b86d9c2639c9ff51f3f5a7">&#9670;&nbsp;</a></span>bts_new_base</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t bts_new_base = 10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Temporary holder for the <code><a class="el" href="emstream_8cpp.html#a1289b0bc61ac6556b4a891adbfa68bfe" title="Set the base for subsequent numeric conversions. ">setbase()</a></code> format function. </p>
<p>This variable allows the nonmember function <code><a class="el" href="emstream_8cpp.html#a1289b0bc61ac6556b4a891adbfa68bfe" title="Set the base for subsequent numeric conversions. ">setbase()</a></code> to communicate a new numeric base to a specific serial device object. The <code><a class="el" href="emstream_8cpp.html#a1289b0bc61ac6556b4a891adbfa68bfe" title="Set the base for subsequent numeric conversions. ">setbase()</a></code> method returns a manipulator that causes a specific serial object (the one in whose <code>cout</code> style output line it is called) to read the value of this variable. </p>

</div>
</div>
<a id="af2db72bc7e1c0c5ab90a66810114a029"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2db72bc7e1c0c5ab90a66810114a029">&#9670;&nbsp;</a></span>bts_new_prec</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t bts_new_prec = 3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Temporary holder for <code><a class="el" href="emstream_8cpp.html#a3c2c3d8ffc38044a12bdb9773cf9b7fa" title="Set the number of digits shown after a decimal point. ">setprecision()</a></code> format function. </p>
<p>This variable allows the nonmember function <code><a class="el" href="emstream_8cpp.html#a3c2c3d8ffc38044a12bdb9773cf9b7fa" title="Set the number of digits shown after a decimal point. ">setprecision()</a></code> to communicate the number of digits after the decimal point to a specific text serial port object. The <code><a class="el" href="emstream_8cpp.html#a3c2c3d8ffc38044a12bdb9773cf9b7fa" title="Set the number of digits shown after a decimal point. ">setprecision()</a></code> function returns a manipulator that causes a specific serial object (the one in whose <code>cout</code> style output line it is called) to read the value of this variable. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
